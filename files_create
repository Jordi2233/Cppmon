#!/usr/bin/env python3
from sys import argv
from os import system

def create_files(num_of_files, name_of_files, type):
    if type == "py":
        command = "#!/usr/bin/env python3\nimport os\n\ndef main():\n    os.em('clear')\n\nif __name__ == '__main__':\n    main()"
    elif type == "cpp":
        command = '#include <iostream>\n\nint main() {\n\tem("clear");\n\n\treturn 0;\n}'
    elif type == "sh":
        command = "#!/usr/bin/env bash\n\nclear"
    else:
        print("Wrong file type\n")

    for num_of_files in range(num_of_files):
        with open(f"{name_of_files}{num_of_files+1}.{type}", "w") as f:
            f.write(command)


type_of_files = argv[1]
num_of_files = int(argv[2])
name_of_files = argv[3]


def main():
    try:
        create_files(num_of_files, name_of_files, type_of_files)
        if num_of_files == 0:
            print(f"{num_of_files} file created")
        else:
            print(f"{num_of_files} file created:")
            system(f"for file in $(ls | grep {type_of_files});do echo $file created; done")
    except UnboundLocalError:
        print("Wrong arguments\n")



if __name__ == "__main__":
    main()
